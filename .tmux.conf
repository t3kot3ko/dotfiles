# List of plugins
set -g @plugin 'tmux-plugins/tpm'

set-window-option -g mode-keys vi
set-window-option -g automatic-rename off

set -s escape-time 0

# Style
# 256C Colors
set-option -g default-terminal "screen-256color"

set -g message-style bold,fg=red,bg=white

set -g pane-active-border-style "fg=colour254"
set -g pane-border-style "fg=colour31"

set -g status-justify "left"
set -g status "on"
set -g status-left-style "none"
set -g message-command-style "fg=colour254,bg=colour31"
set -g status-right-style "none"
set -g status-style "none,bg=colour24"
set -g message-style "fg=colour254,bg=colour31"
set -g status-right-length "100"
set -g status-left-length "100"
setw -g window-status-activity-style "none"
setw -g window-status-separator ""
setw -g window-status-style "none,fg=colour255,bg=colour24"
set -g status-left "#[fg=colour240,bg=colour254] #S #[fg=colour254,bg=colour24,nobold,nounderscore,noitalics]"
set -g status-right "#[fg=colour31,bg=colour24,nobold,nounderscore,noitalics]#[fg=colour254,bg=colour31] %Y-%m-%d  %H:%M #[fg=colour254,bg=colour31,nobold,nounderscore,noitalics]#[fg=colour240,bg=colour254] #h "
setw -g window-status-format "#[fg=colour255,bg=colour24] #I #[fg=colour255,bg=colour24] #W "
setw -g window-status-current-format "#[fg=colour24,bg=colour31,nobold,nounderscore,noitalics]#[fg=colour254,bg=colour31] #I #[fg=colour254,bg=colour31] #W #[fg=colour31,bg=colour24,nobold,nounderscore,noitalics]"

# KeyBindings

# Set the prefix to ^T.
unbind C-b
set -g prefix ^T
bind t send-prefix

# Reload
unbind r
bind r source-file ~/.tmux.conf; display-message "Reload Config!!"

unbind .
bind . command-prompt "rename-window %%" 

# Create new window
unbind ^C
bind ^C new-window -n zsh
bind c new-window -n zsh

# Detach
unbind ^D
bind ^D detach

# displays *
unbind *
bind * list-clients

# Jump to last window t
unbind C-t
bind C-t last-window

# Previous window (^p)
unbind ^P
bind ^P previous-window
bind [ previous-window

# Next window (N, n)
unbind ^N
bind ^N next-window
unbind n
bind n next-window
bind ] next-window

# Rename window (A)
unbind A
bind A command-prompt "rename-window %%"

# copy-mode y
unbind y
bind y copy-mode

# begin-selection
bind-key -Tcopy-mode-vi "v" send -X begin-selection

# copy-line
bind-key -Tcopy-mode-vi "Y" send -X copy-line

# copy-selection (end of selection)
## For macOS
if-shell "uname | grep Darwin" \
	"bind-key -Tcopy-mode-vi 'y' send -X copy-selection-and-cancel 'pbcopy'"
## For Linux
if-shell "uname | grep Linux && whence xsel 2>&1 > /dev/null" \
	"bind-key -Tcopy-mode-vi 'y' send -X copy-selection-and-cancel 'xsel'"
## For WSL
### TODO


# paste-buffer
unbind p
bind p paste-buffer

# other ^A
unbind ^A
bind ^A last-window

# man
unbind m
bind-key m command-prompt "split-window -p 65 'exec man %%'"

# windows ^W w
unbind ^W
bind ^W list-windows
unbind w
bind w list-windows


# Redisplay
unbind ^R
bind ^R refresh-client

# Resize pane
bind < resize-pane -L 200
bind > resize-pane -R 200
bind - resize-pane -D 100
bind + resize-pane -U 100
bind -r h resize-pane -L 8
bind -r l resize-pane -R 8
bind -r j resize-pane -D 2
bind -r k resize-pane -U 2
bind -r s swap-pane -U

# Split horizontally
unbind ^S
bind ^S  split-window -v -c "#{pane_current_path}"

# Split vertically
unbind ^V
bind ^V  split-window -h -c "#{pane_current_path}"

# :kB: focus up
unbind ^J
bind ^J select-pane -D
unbind ^K
bind ^K select-pane -U
unbind ^H
bind ^H select-pane -L
unbind ^L
bind ^L select-pane -R

# Kill pane
unbind X
bind X kill-pane

# Kill window
unbind K
bind K confirm-before "kill-window"

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'


